<div class="full-size scroll-y-only">

    <div class="sidebar">

        <button mat-stroked-button class="previousBtn" (click)="location.back()">
            <mat-icon>arrow_back</mat-icon>
            Previous
        </button>


        <!-- another list, with data from json file called introductions.json -->
        <mat-list class="nav">
            <div *ngFor="let item of list; let i = index;">

                <mat-list-item [class.parent]="item.children">
                    <button mat-button
                            [routerLink]="'/introduction/leoo/goldbach_' + item.name"
                            routerLinkActive="active-link" class="nav-item"
                            (click)="toggleChildren(i)">
                        {{item.label}}
                        <mat-icon *ngIf="!item.children">keyboard_arrow_right</mat-icon>
                        <mat-icon *ngIf="item.children">keyboard_arrow_down</mat-icon>
                    </button>
                </mat-list-item>

                <div *ngIf="item.children" class="nav-children" [class.open]="curIndex === i">
                    <div *ngFor="let child of item.children; let c = index;">
                        <mat-list-item>
                            <button mat-button
                                    [routerLink]="'/introduction/leoo/goldbach_' + child.name"
                                    routerLinkActive="active-link" class="nav-item"
                                    (click)="toggleGrandChildren(c)">
                                {{child.label}}
                                <mat-icon *ngIf="!child.children">keyboard_arrow_right</mat-icon>
                                <mat-icon *ngIf="child.children">keyboard_arrow_down</mat-icon>
                            </button>
                        </mat-list-item>

                        <div *ngIf="child.children" class="nav-grand-children" [class.open]="curChildIndex === c">
                            <mat-list-item *ngFor="let gc of child.children">
                                <!-- [routerLink]="item.name -->
                                <button mat-button [routerLink]="'/introduction/leoo/goldbach_' + gc.name"
                                        routerLinkActive="active-link" class="nav-item">
                                    {{gc.label}}
                                    <mat-icon>keyboard_arrow_right</mat-icon>
                                </button>
                            </mat-list-item>
                        </div>

                    </div>
                </div>
            </div>
        </mat-list>

        <mat-divider></mat-divider>

        <!-- Tree of introduction links to navigate through several levels on each intro page -->

        <mat-list>
            <!-- Introduction 1 - Historical and biographical setting -->
            <mat-list-item (click)="goToIntro('introduction_1')" (click)="showButtons.i1 = !showButtons.i1"
                           class="intro-level1">
                <a>Introduction 1</a>
                <mat-icon *ngIf="showButtons.i1">keyboard_arrow_right</mat-icon>
                <mat-icon *ngIf="!showButtons.i1">keyboard_arrow_down</mat-icon>
            </mat-list-item>

            <!-- Introduction 1.1 & following sub-intro -->
            <span *ngIf="showButtons.i1">
                <mat-list-item (click)="goToIntro('introduction_1.1')" (click)="showButtons.i11 = !showButtons.i11"
                               class="intro-level2">
                    <a>Introduction 1.1</a>
                    <mat-icon *ngIf="showButtons.i11">keyboard_arrow_right</mat-icon>
                    <mat-icon *ngIf="!showButtons.i11">keyboard_arrow_down</mat-icon>
                </mat-list-item>
                <span *ngIf="showButtons.i11">
                    <mat-list-item (click)="goToIntro('introduction_1.1.1')" class="intro-level3">
                        <a>Introduction 1.1.1</a>
                    </mat-list-item>
                    <mat-list-item (click)="goToIntro('introduction_1.1.2')" class="intro-level3">
                        <a>Introduction 1.1.2</a>
                    </mat-list-item>
                    <mat-list-item (click)="goToIntro('introduction_1.1.3')" class="intro-level3">
                        <a>Introduction 1.1.3</a>
                    </mat-list-item>
                    <mat-list-item (click)="goToIntro('introduction_1.1.4')" class="intro-level3">
                        <a>Introduction 1.1.4</a>
                    </mat-list-item>
                </span>
            </span>

            <!-- Introduction 1.2 & following sub-intro -->
            <span *ngIf="showButtons.i1">
                <mat-list-item (click)="goToIntro('introduction_1.2')" (click)="showButtons.i12 = !showButtons.i12"
                               class="intro-level2">
                    <a>Introduction 1.2</a>
                    <mat-icon *ngIf="showButtons.i12">keyboard_arrow_right</mat-icon>
                    <mat-icon *ngIf="!showButtons.i12">keyboard_arrow_down</mat-icon>
                </mat-list-item>
                <span *ngIf="showButtons.i12">
                    <mat-list-item (click)="goToIntro('introduction_1.2.1')" class="intro-level3">
                        <a>Introduction 1.2.1</a>
                    </mat-list-item>
                    <mat-list-item (click)="goToIntro('introduction_1.2.2')" class="intro-level3">
                        <a>Introduction 1.2.2</a>
                    </mat-list-item>
                    <mat-list-item (click)="goToIntro('introduction_1.2.3')" class="intro-level3">
                        <a>Introduction 1.2.3</a>
                    </mat-list-item>
                    <mat-list-item (click)="goToIntro('introduction_1.2.4')" class="intro-level3">
                        <a>Introduction 1.2.4</a>
                    </mat-list-item>
                    <mat-list-item (click)="goToIntro('introduction_1.2.5')" class="intro-level3">
                        <a>Introduction 1.2.5</a>
                    </mat-list-item>
                </span>
            </span>

            <!-- Introduction 1.3 -->
            <span *ngIf="showButtons.i1">
                <mat-list-item (click)="goToIntro('introduction_1.3')" class="intro-level2">
                    <a>Introduction 1.3</a>
                </mat-list-item>
            </span>

            <!-- Introduction 2 - Main subjects of the correspondence -->
            <mat-list-item (click)="goToIntro('introduction_2')" (click)="showButtons.i2 = !showButtons.i2"
                           class="intro-level1">
                <a>Introduction 2</a>
                <mat-icon *ngIf="showButtons.i2">keyboard_arrow_right</mat-icon>
                <mat-icon *ngIf="!showButtons.i2">keyboard_arrow_down</mat-icon>
            </mat-list-item>

            <!-- Introduction 2.1 & following sub-intro -->
            <span *ngIf="showButtons.i2">
                <mat-list-item (click)="goToIntro('introduction_2.1')" (click)="showButtons.i21 = !showButtons.i21"
                               class="intro-level2">
                    <a>Introduction 2.1</a>
                    <mat-icon *ngIf="showButtons.i21">keyboard_arrow_right</mat-icon>
                    <mat-icon *ngIf="!showButtons.i21">keyboard_arrow_down</mat-icon>
                </mat-list-item>
                <span *ngIf="showButtons.i21">
                    <mat-list-item (click)="goToIntro('introduction_2.1.1')" class="intro-level3">
                        <a>Introduction 2.1.1</a>
                    </mat-list-item>
                    <mat-list-item (click)="goToIntro('introduction_2.1.2')" class="intro-level3">
                        <a>Introduction 2.1.2</a>
                    </mat-list-item>
                    <mat-list-item (click)="goToIntro('introduction_2.1.3')" class="intro-level3">
                        <a>Introduction 2.1.3</a>
                    </mat-list-item>
                </span>
            </span>

            <!-- Introduction 2.2 & following sub-intro -->
            <span *ngIf="showButtons.i2">
                <mat-list-item (click)="goToIntro('introduction_2.2')" (click)="showButtons.i22 = !showButtons.i22"
                               class="intro-level2">
                    <a>Introduction 2.2</a>
                    <mat-icon *ngIf="showButtons.i22">keyboard_arrow_right</mat-icon>
                    <mat-icon *ngIf="!showButtons.i22">keyboard_arrow_down</mat-icon>
                </mat-list-item>
                <span *ngIf="showButtons.i22">
                    <mat-list-item (click)="goToIntro('introduction_2.2.1')" class="intro-level3">
                        <a>Introduction 2.2.1</a>
                    </mat-list-item>
                    <mat-list-item (click)="goToIntro('introduction_2.2.2')" class="intro-level3">
                        <a>Introduction 2.2.2</a>
                    </mat-list-item>
                    <mat-list-item (click)="goToIntro('introduction_2.2.3')" class="intro-level3">
                        <a>Introduction 2.2.3</a>
                    </mat-list-item>
                </span>
            </span>

            <!-- Introduction 2.3 & following sub-intro -->
            <span *ngIf="showButtons.i2">
                <mat-list-item (click)="goToIntro('introduction_2.3')" (click)="showButtons.i23 = !showButtons.i23"
                               class="intro-level2">
                    <a>Introduction 2.3</a>
                    <mat-icon *ngIf="showButtons.i23">keyboard_arrow_right</mat-icon>
                    <mat-icon *ngIf="!showButtons.i23">keyboard_arrow_down</mat-icon>
                </mat-list-item>
                <span *ngIf="showButtons.i23">
                    <mat-list-item (click)="goToIntro('introduction_2.3.1')" class="intro-level3">
                        <a>Introduction 2.3.1</a>
                    </mat-list-item>
                    <mat-list-item (click)="goToIntro('introduction_2.3.2')" class="intro-level3">
                        <a>Introduction 2.3.2</a>
                    </mat-list-item>
                </span>
            </span>

            <!-- Introduction 2.4 & following sub-intro -->
            <span *ngIf="showButtons.i2">
                <mat-list-item (click)="goToIntro('introduction_2.4')" (click)="showButtons.i24 = !showButtons.i24"
                               class="intro-level2">
                    <a>Introduction 2.4</a>
                    <mat-icon *ngIf="showButtons.i24">keyboard_arrow_right</mat-icon>
                    <mat-icon *ngIf="!showButtons.i24">keyboard_arrow_down</mat-icon>
                </mat-list-item>
                <span *ngIf="showButtons.i24">
                    <mat-list-item (click)="goToIntro('introduction_2.4.1')" class="intro-level3">
                        <a>Introduction 2.4.1</a>
                    </mat-list-item>
                    <mat-list-item (click)="goToIntro('introduction_2.4.2')" class="intro-level3">
                        <a>Introduction 2.4.2</a>
                    </mat-list-item>
                    <mat-list-item (click)="goToIntro('introduction_2.4.3')" class="intro-level3">
                        <a>Introduction 2.4.3</a>
                    </mat-list-item>
                    <mat-list-item (click)="goToIntro('introduction_2.4.4')" class="intro-level3">
                        <a>Introduction 2.4.4</a>
                    </mat-list-item>
                </span>
            </span>

            <!-- Introduction 2.5 & following sub-intro -->
            <span *ngIf="showButtons.i2">
                <mat-list-item (click)="goToIntro('introduction_2.5')" class="intro-level2">
                    <a>Introduction 2.5</a>
                </mat-list-item>
            </span>

            <!-- Introduction 2.6 & following sub-intro -->
            <span *ngIf="showButtons.i2">
                <mat-list-item (click)="goToIntro('introduction_2.6')" (click)="showButtons.i26 = !showButtons.i26"
                               class="intro-level2">
                    <a>Introduction 2.6</a>
                    <mat-icon *ngIf="showButtons.i26">keyboard_arrow_right</mat-icon>
                    <mat-icon *ngIf="!showButtons.i26">keyboard_arrow_down</mat-icon>
                </mat-list-item>
                <span *ngIf="showButtons.i26">
                    <mat-list-item (click)="goToIntro('introduction_2.6.1')" class="intro-level3">
                        <a>Introduction 2.6.1</a>
                    </mat-list-item>
                    <mat-list-item (click)="goToIntro('introduction_2.6.2')" class="intro-level3">
                        <a>Introduction 2.6.2</a>
                    </mat-list-item>
                    <mat-list-item (click)="goToIntro('introduction_2.6.3')" class="intro-level3">
                        <a>Introduction 2.6.3</a>
                    </mat-list-item>
                    <mat-list-item (click)="goToIntro('introduction_2.6.4')" class="intro-level3">
                        <a>Introduction 2.6.4</a>
                    </mat-list-item>
                </span>
            </span>

            <!-- Introduction 2.7 -->
            <span *ngIf="showButtons.i2">
                <mat-list-item (click)="goToIntro('introduction_2.7')" class="intro-level2">
                    <a>Introduction 2.7</a>
                </mat-list-item>
            </span>

            <!-- Introduction 2.8 -->
            <span *ngIf="showButtons.i2">
                <mat-list-item (click)="goToIntro('introduction_2.8')" class="intro-level2">
                    <a>Introduction 2.8</a>
                </mat-list-item>
            </span>

            <!-- Introduction 3 - Editing the Euler-Goldbach correspondence -->
            <mat-list-item (click)="goToIntro('introduction_3')" (click)="showButtons.i3 = !showButtons.i3"
                           class="intro-level1">
                <a>Introduction 3</a>
                <mat-icon *ngIf="showButtons.i3">keyboard_arrow_right</mat-icon>
                <mat-icon *ngIf="!showButtons.i3">keyboard_arrow_down</mat-icon>
            </mat-list-item>

            <!-- Introduction 3.1 -->
            <span *ngIf="showButtons.i3">
                <mat-list-item (click)="goToIntro('introduction_3.1')" class="intro-level2">
                    <a>Introduction 3.1</a>
                </mat-list-item>
            </span>

            <!-- Introduction 3.2 & following sub-intro -->
            <span *ngIf="showButtons.i3">
                <mat-list-item (click)="goToIntro('introduction_3.2')" (click)="showButtons.i32 = !showButtons.i32"
                               class="intro-level2">
                    <a>Introduction 3.2</a>
                    <mat-icon *ngIf="showButtons.i32">keyboard_arrow_right</mat-icon>
                    <mat-icon *ngIf="!showButtons.i32">keyboard_arrow_down</mat-icon>
                </mat-list-item>
                <span *ngIf="showButtons.i32">
                    <mat-list-item (click)="goToIntro('introduction_3.2.1')" class="intro-level3">
                        <a>Introduction 3.2.1</a>
                    </mat-list-item>
                    <mat-list-item (click)="goToIntro('introduction_3.2.2')" class="intro-level3">
                        <a>Introduction 3.2.2</a>
                    </mat-list-item>
                </span>
            </span>

            <!-- Introduction 3.3 & following sub-intro -->
            <span *ngIf="showButtons.i3">
                <mat-list-item (click)="goToIntro('introduction_3.3')" (click)="showButtons.i33 = !showButtons.i33"
                               class="intro-level2">
                    <a>Introduction 3.3</a>
                    <mat-icon *ngIf="showButtons.i33">keyboard_arrow_right</mat-icon>
                    <mat-icon *ngIf="!showButtons.i33">keyboard_arrow_down</mat-icon>
                </mat-list-item>
                <span *ngIf="showButtons.i33">
                    <mat-list-item (click)="goToIntro('introduction_3.3.1')" class="intro-level3">
                        <a>Introduction 3.3.1</a>
                    </mat-list-item>
                    <mat-list-item (click)="goToIntro('introduction_3.3.2')" class="intro-level3">
                        <a>Introduction 3.3.2</a>
                    </mat-list-item>
                    <mat-list-item (click)="goToIntro('introduction_3.3.3')" class="intro-level3">
                        <a>Introduction 3.3.3</a>
                    </mat-list-item>
                    <mat-list-item (click)="goToIntro('introduction_3.3.4')" class="intro-level3">
                        <a>Introduction 3.3.4</a>
                    </mat-list-item>
                    <mat-list-item (click)="goToIntro('introduction_3.3.5')" class="intro-level3">
                        <a>Introduction 3.3.5</a>
                    </mat-list-item>
                    <mat-list-item (click)="goToIntro('introduction_3.3.6')" class="intro-level3">
                        <a>Introduction 3.3.6</a>
                    </mat-list-item>
                    <mat-list-item (click)="goToIntro('introduction_3.3.7')" class="intro-level3">
                        <a>Introduction 3.3.7</a>
                    </mat-list-item>
                </span>
            </span>

            <!-- List of abbreviations -->
            <mat-list-item (click)="goToListAbbreviation()">
                <a>List of abbreviations</a>
            </mat-list-item>

        </mat-list>

    </div>
    <!-- end of the sidebar -->

    <!-- Main content of the page -->
    <div class="main-content" *ngIf="!loading && props">

        <section class="title center">
            <h3 mat-card-subtitle>{{resource?.label}}</h3>
            <h1 mat-card-title *ngFor="let title of props.title">{{title.getContent()}}</h1>
        </section>


        <section class="text">
            <read-text-value-as-html [valueObject]="props.text[0]" [ontologyInfo]="ontologyInfo"
                                     [bindEvents]="true"></read-text-value-as-html>
        </section>

        <!--
        <div mat-line *ngFor="let prop of resource?.properties | key">
            <h4 *ngIf="ontologyInfo?.getLabelForProperty(prop.key) != 'has section' && ontologyInfo?.getLabelForProperty(prop.key) != 'has Standoff Link to'">{{ontologyInfo?.getLabelForProperty(prop.key)}}</h4>

            <div *ngFor="let val of prop.value | key">
                <span [ngSwitch]="val.value.getClassName()" *ngIf="!val.value.referredResourceIri">
                    <read-text-value-as-html *ngSwitchCase="KnoraConstants.ReadTextValueAsHtml" [valueObject]="val.value" [ontologyInfo]="ontologyInfo" [bindEvents]="true"></read-text-value-as-html>
                    <read-text-value-as-string *ngSwitchCase="KnoraConstants.ReadTextValueAsString" [valueObject]="val.value"></read-text-value-as-string>
                    <read-text-value-as-xml *ngSwitchCase="KnoraConstants.ReadTextValueAsXml" [valueObject]="val.value"></read-text-value-as-xml>
                    <read-date-value *ngSwitchCase="KnoraConstants.ReadDateValue" [valueObject]="val.value"></read-date-value>
                    <read-integer-value *ngSwitchCase="KnoraConstants.ReadIntegerValue" [valueObject]="val.value"></read-integer-value>
                    <read-decimal-value *ngSwitchCase="KnoraConstants.ReadDecimalValue" [valueObject]="val.value"></read-decimal-value>
                    <read-geom-value *ngSwitchCase="KnoraConstants.ReadGeomValue" [valueObject]="val.value"></read-geom-value>
                    <read-color-value *ngSwitchCase="KnoraConstants.ReadColorValue" [valueObject]="val.value"></read-color-value>
                    <read-uri-value *ngSwitchCase="KnoraConstants.ReadUriValue" [valueObject]="val.value"></read-uri-value>
                    <read-boolean-value *ngSwitchCase="KnoraConstants.ReadBooleanValue" [valueObject]="val.value"></read-boolean-value>
                    <read-interval-value *ngSwitchCase="KnoraConstants.ReadIntervalValue" [valueObject]="val.value"></read-interval-value>
                    <read-list-value *ngSwitchCase="KnoraConstants.ReadListValue" [valueObject]="val.value"></read-list-value>
                    <read-textfile-value *ngSwitchCase="KnoraConstants.TextFileValue" [valueObject]="val.value"></read-textfile-value>
                    <span *ngSwitchDefault="">Not supported {{val.value.getClassName()}}</span>
                </span>
            </div>
        </div>
        -->
    </div>
</div>
